(function(t){function e(e){for(var r,o,i=e[0],s=e[1],u=e[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&f.push(c[o][0]),c[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var s=n[i];0!==c[s]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},c={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/shitty-reader/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02e5":function(t,e,n){},"080a":function(t,e,n){"use strict";n("cbad")},"0f2a":function(t,e,n){"use strict";n("51e9")},"379f":function(t,e,n){},"4aa4":function(t,e,n){},"4e25":function(t,e,n){},"51e9":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function c(t,e){var n=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["d"])(n)}n("69d9");var a=n("6b0d"),o=n.n(a);const i={},s=o()(i,[["render",c]]);var u=s,l=n("9483");Object(l["a"])("".concat("/shitty-reader/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var d=n("6c02"),f=function(t){return Object(r["u"])("data-v-2ac96d4a"),t=t(),Object(r["s"])(),t},b={class:"page"},h={class:"tool-bar"},g=f((function(){return Object(r["g"])("span",{class:"material-icons text--dark"}," list ",-1)})),v=[g],O=f((function(){return Object(r["g"])("span",{class:"material-icons text--dark"}," expand_less ",-1)})),p=[O],j=f((function(){return Object(r["g"])("span",{class:"material-icons text--dark"}," navigate_before ",-1)})),m=[j],y=f((function(){return Object(r["g"])("span",{class:"material-icons text--dark"}," navigate_next ",-1)})),k=[y],x=f((function(){return Object(r["g"])("div",{class:"space-for-up-button"},null,-1)}));function S(t,e,n,c,a,o){var i=Object(r["y"])("Search"),s=Object(r["y"])("Gallery"),u=Object(r["y"])("HistoryAndFavoritesModal");return Object(r["r"])(),Object(r["f"])("div",b,[Object(r["h"])(i,{ref:"search",searchString:a.searchString,onOnSearch:e[0]||(e[0]=function(t){return o.loadImages(t)})},null,8,["searchString"]),Object(r["h"])(s,{urlsList:a.urlsList},null,8,["urlsList"]),a.isModalOpened?(Object(r["r"])(),Object(r["d"])(u,{key:0,onOnClose:e[1]||(e[1]=function(t){return o.closeModal()}),onOnSelect:e[2]||(e[2]=function(t){return o.itemFromModalSelected(t)})})):Object(r["e"])("",!0),Object(r["g"])("div",h,[Object(r["g"])("button",{class:"tool-bar-button",onClick:e[3]||(e[3]=function(t){return o.openModal()})},v),Object(r["g"])("button",{ref:"upButton",class:"tool-bar-button up-button",onClick:e[4]||(e[4]=function(t){return o.goUp()})},p,512),a.urlsList.length?(Object(r["r"])(),Object(r["f"])("button",{key:0,class:"tool-bar-button",onClick:e[5]||(e[5]=function(t){return o.goBack()})},m)):Object(r["e"])("",!0),a.urlsList.length?(Object(r["r"])(),Object(r["f"])("button",{key:1,class:"tool-bar-button",onClick:e[6]||(e[6]=function(t){return o.goNext()})},k)):Object(r["e"])("",!0)]),x])}var C=n("1da1"),_=(n("96cf"),n("ac1f"),n("841c"),function(t){return Object(r["u"])("data-v-2bed1786"),t=t(),Object(r["s"])(),t}),w={class:"search-container"},L={class:"search-text"},I={class:"search-commands"},F=_((function(){return Object(r["g"])("span",{class:"material-icons text--light"}," download ",-1)})),P=[F],A={key:0,class:"material-icons icon--smaller text--light"},M={key:1,class:"material-icons icon--smaller text--light"},N=_((function(){return Object(r["g"])("span",{class:"material-icons text--light"}," clear ",-1)})),T=[N],$=_((function(){return Object(r["g"])("input",{type:"submit"},null,-1)}));function B(t,e,n,c,a,o){return Object(r["r"])(),Object(r["f"])("div",w,[Object(r["g"])("form",{class:"search-box",onSubmit:e[4]||(e[4]=function(t){return t.preventDefault()&&o.search()})},[Object(r["g"])("div",L,[Object(r["F"])(Object(r["g"])("input",{placeholder:"Type manga URL here ...",type:"search","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.text=t})},null,512),[[r["C"],a.text]])]),Object(r["g"])("div",I,[Object(r["g"])("button",{onClick:e[1]||(e[1]=function(t){return o.search()})},P),a.text?(Object(r["r"])(),Object(r["f"])("button",{key:0,onClick:e[2]||(e[2]=function(t){return o.toggleFav()})},[a.isFav?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("span",A," star_border ")),a.isFav?(Object(r["r"])(),Object(r["f"])("span",M," star ")):Object(r["e"])("",!0)])):Object(r["e"])("",!0),Object(r["g"])("button",{onClick:e[3]||(e[3]=function(t){return o.clear()})},T),$])],32)])}var D=n("2909"),H=n("d4ec"),E=n("bee2"),R=(n("d3b7"),n("466d"),n("cb29"),n("d81d"),n("99af"),n("fb6a"),function(){function t(){Object(H["a"])(this,t)}return Object(E["a"])(t,[{key:"loadPages",value:function(t){var e=this;return new Promise((function(n,r){var c=e._getFullCode(t),a=c.match(/\d+/g),o=a&&a.length?a[0]:"",i=a&&a.length?a[1]:"",s=new Array(250);s.fill("");var u=["jpeg","jpg","png"].map((function(t){return s.map((function(n,r){return o&&i?e._getUrl(o,i,r+1,t):""}))}));o&&i?n({text:c,urls:[].concat(Object(D["a"])(u[0]),Object(D["a"])(u[1]),Object(D["a"])(u[2]))}):r({text:c,urls:[]})}))}},{key:"nextChapterByPages",value:function(t){var e=this;return new Promise((function(n,r){var c=t[0],a=c.match(/\d+\/\d+/);if(a&&a.length){var o=a[0].match(/\d+/g);n(e._getNextChapter(o))}else r()}))}},{key:"previousChapterByPages",value:function(t){var e=this;return new Promise((function(n,r){var c=t[0],a=c.match(/\d+\/\d+/);if(a&&a.length){var o=a[0].match(/\d+/g);n(e._getPreviousChapter(o))}else r()}))}},{key:"getCovers",value:function(t){var e=this;return new Promise((function(n){var r=t.match(/\d+/i)[0],c=["jpeg","jpg","png"].map((function(t){return e._getCoverUrl(r,t)}));n(c)}))}},{key:"_getFullCode",value:function(t){var e=t.match(/\d+\D\d+/);if(e&&e.length)return e[0];var n=t.match(/\d+/);return n&&n.length?"".concat(n[0],"-10001000"):""}},{key:"_getUrl",value:function(t,e,n,r){return"//cdn.readdetectiveconan.com/file/mangap/".concat(t,"/").concat(e,"/").concat(n,".").concat(r)}},{key:"_getCoverUrl",value:function(t,e){return"//cdn.readdetectiveconan.com/file/mangapill/i/".concat(t,".").concat(e)}},{key:"_getNextChapter",value:function(t){var e=""+t[1],n=e.slice(0,-3),r=parseInt(n),c=r+1;return"".concat(t[0],"-").concat(c,"000")}},{key:"_getPreviousChapter",value:function(t){var e=""+t[1];if("10000000"===e)return"".concat(t[0],"-").concat(t[1]);var n=e.slice(0,-3),r=parseInt(n),c=r-1;return"".concat(t[0],"-").concat(c,"000")}}]),t}());function U(t){switch(t){default:case"MANGA_PILL":return new R}}n("4de4"),n("e9c4");var G=function(){function t(e){Object(H["a"])(this,t),this._itemName=e,this._ls=window.localStorage}return Object(E["a"])(t,[{key:"saveData",value:function(t){try{var e=JSON.stringify(t);this._ls.setItem(this._itemName,e)}catch(n){}}},{key:"getData",value:function(){try{var t=this._ls.getItem(this._itemName);return JSON.parse(t)}catch(e){return null}}},{key:"clear",value:function(){this._ls.removeItem(this._itemName)}}]),t}(),J=new G("history"),q={get:function(){return J.getData()||[]},push:function(t){var e=J.getData()||[],n=!!~e.indexOf(t);n||(e.push(t),J.saveData(e))},delete:function(t){var e=J.getData()||[];J.saveData(e.filter((function(e){return e!==t})))},clear:function(){J.clear()}},V=new G("fav"),z={get:function(){return V.getData()||[]},toggle:function(t){this.has(t)?this.remove(t):this.add(t)},add:function(t){var e=this.get(),n=this.has(t);n||(e.push(t),V.saveData(e))},remove:function(t){var e=this.get();V.saveData(e.filter((function(e){return e!==t})))},has:function(t){var e=this.get();return!!~e.indexOf(t)}},K={name:"Search",props:{searchString:{type:String,default:new String("")}},emits:{onSearch:Array},watch:{searchString:{handler:function(t,e){t!==e&&(this.text=this.searchString,this.isFav=z.has(this.text),this.search())}}},data:function(){return{text:"",source:"MANGA_PILL",isFav:!1}},mounted:function(){this.text=this.getHistory().pop()||"",this.updateIsFav(),this.text&&this.search()},methods:{search:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return""===t.text&&t.$emit("onSearch",[]),n=U(t.source),e.next=4,n.loadPages("".concat(t.text));case 4:r=e.sent,t.text=r.text,q.push(r.text),t.updateIsFav(),t.$emit("onSearch",r.urls);case 9:case"end":return e.stop()}}),e)})))()},clear:function(){this.text="",this.isFav=!1,this.$emit("onSearch",[])},getHistory:function(){return q.get()||[]},toggleFav:function(){z.toggle(this.text),this.updateIsFav()},updateIsFav:function(){this.isFav=z.has(this.text)}}};n("870c");const Q=o()(K,[["render",B],["__scopeId","data-v-2bed1786"]]);var W=Q,X={key:0,class:"gallery-container"},Y=["id","src","onLoad"];function Z(t,e,n,c,a,o){var i=Object(r["y"])("dir");return n.urlsList.length>0?(Object(r["r"])(),Object(r["f"])("div",X,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(n.urlsList,(function(t){return Object(r["r"])(),Object(r["d"])(i,{class:"gallery-item-container",key:t},{default:Object(r["E"])((function(){return[t?(Object(r["r"])(),Object(r["f"])("img",{key:0,class:"gallery-item",alt:"Page not exists",id:t,src:t,onLoad:function(e){return o.loaded(t)}},null,40,Y)):Object(r["e"])("",!0)]})),_:2},1024)})),128))])):Object(r["e"])("",!0)}var tt={name:"Gallery",props:{urlsList:{type:Array,default:new Array}},watch:{urlsList:{deep:!0,handler:function(t,e){this.errorsCount=0,this.loadedCount=0}}},data:function(){return{errorsCount:0,loadedCount:0}},methods:{loaded:function(t){var e=document.getElementById(t);e.style.display="block"}}};n("cb5a");const et=o()(tt,[["render",Z],["__scopeId","data-v-1de1cc15"]]);var nt=et,rt={class:"modal-overlay"},ct={class:"modal-container"},at={class:"modal-commands"},ot={class:"modal-content"};function it(t,e,n,c,a,o){var i=Object(r["y"])("TabHeader"),s=Object(r["y"])("HistoryList"),u=Object(r["y"])("FavoritesList"),l=Object(r["y"])("dir");return Object(r["r"])(),Object(r["f"])("div",rt,[Object(r["g"])("div",ct,[Object(r["g"])("div",at,[Object(r["g"])("span",{class:"material-icons icon--clickable",onClick:e[0]||(e[0]=function(e){return t.$emit("onClose")})}," close ")]),Object(r["g"])("div",ot,[Object(r["h"])(i,{class:"modal-tabs",tabs:a.tabs,onOnSelect:e[1]||(e[1]=function(t){return a.selectedTabId=t.id})},null,8,["tabs"]),Object(r["h"])(l,{class:"modal-list"},{default:Object(r["E"])((function(){return["h"===a.selectedTabId?(Object(r["r"])(),Object(r["d"])(s,{key:0,onOnSelect:e[2]||(e[2]=function(e){return t.$emit("onSelect",e)})})):Object(r["e"])("",!0),"f"===a.selectedTabId?(Object(r["r"])(),Object(r["d"])(u,{key:1,onOnSelect:e[3]||(e[3]=function(e){return t.$emit("onSelect",e)})})):Object(r["e"])("",!0)]})),_:1})])])])}var st={class:"list-container"},ut=["onClick"],lt=["id","onClick"],dt=["onClick"];function ft(t,e,n,c,a,o){var i=Object(r["y"])("CoverPreview");return Object(r["r"])(),Object(r["f"])("ul",st,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.itemsList,(function(e){return Object(r["r"])(),Object(r["f"])("li",{key:e},[Object(r["h"])(i,{searchString:e,onClick:function(n){return t.$emit("onSelect",e)}},null,8,["searchString","onClick"]),Object(r["g"])("span",{onClick:function(n){return t.$emit("onSelect",e)}},Object(r["A"])(e),9,ut),Object(r["g"])("div",null,[Object(r["g"])("button",{class:"material-icons text--light",id:"icon-"+e,onClick:function(t){return o.toggleFav(e)}},Object(r["A"])(a.fav.has(e)?"star":"star_border"),9,lt),Object(r["g"])("button",{class:"material-icons text--light",onClick:function(t){return o.deleteItem(e)}}," delete ",8,dt)])])})),128))])}var bt={class:"cover-container"},ht=["src","onLoad"];function gt(t,e,n,c,a,o){return Object(r["r"])(),Object(r["f"])("div",bt,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.urls,(function(t){return Object(r["r"])(),Object(r["f"])("div",{key:t},[Object(r["g"])("img",{class:Object(r["n"])(["cover-item",t]),alt:"No data",src:t,onLoad:function(e){return o.loaded(t)}},null,42,ht)])})),128))])}n("159b");var vt={name:"CoverPreview",props:{searchString:{type:String,default:new String("")}},data:function(){return{strategy:U("MANGA_PILL"),urls:[]}},mounted:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.strategy.getCovers(t.searchString);case 2:t.urls=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{loaded:function(t){var e=Object(D["a"])(document.getElementsByClassName(t));e.forEach((function(t){t.style.display="block"}))}}};n("a972");const Ot=o()(vt,[["render",gt],["__scopeId","data-v-746d5824"]]);var pt=Ot,jt={name:"HistoryList",components:{CoverPreview:pt},emits:{onSelect:String},data:function(){return{itemsList:q.get(),fav:z}},methods:{deleteItem:function(t){q.delete(t),this.itemsList=q.get()},toggleFav:function(t){var e=document.getElementById("icon-"+t);e.textContent="star_border"===e.textContent?"star":"star_border",z.toggle(t)}}};n("6ef9");const mt=o()(jt,[["render",ft],["__scopeId","data-v-070639b0"]]);var yt=mt,kt={class:"list-container"},xt=["onClick"],St=["id","onClick"];function Ct(t,e,n,c,a,o){var i=Object(r["y"])("CoverPreview");return Object(r["r"])(),Object(r["f"])("ul",kt,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(a.itemsList,(function(e){return Object(r["r"])(),Object(r["f"])("li",{key:e},[Object(r["h"])(i,{searchString:e,onClick:function(n){return t.$emit("onSelect",e)}},null,8,["searchString","onClick"]),Object(r["g"])("span",{onClick:function(n){return t.$emit("onSelect",e)}},Object(r["A"])(e),9,xt),Object(r["g"])("button",{class:"material-icons text--light",id:"icon-"+e,onClick:function(t){return o.toggleFav(e)}}," star ",8,St)])})),128))])}var _t={name:"FavoritesList",components:{CoverPreview:pt},emits:{onSelect:String},data:function(){return{itemsList:z.get()}},methods:{toggleFav:function(t){var e=document.getElementById("icon-"+t);e.textContent="star_border"===e.textContent?"star":"star_border",z.toggle(t)}}};n("c715");const wt=o()(_t,[["render",Ct],["__scopeId","data-v-bc6ee7d2"]]);var Lt=wt,It={class:"tab-header-container"},Ft=["onClick"],Pt={class:"material-icons text--light icon--smaller"},At={class:"tab-label text--bold text--light"};function Mt(t,e,n,c,a,o){return Object(r["r"])(),Object(r["f"])("div",It,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(n.tabs,(function(t){return Object(r["r"])(),Object(r["f"])("div",{class:Object(r["n"])(["tab-header icon--clickable",a.selectedTabId===t.id?"tab-header--selected":""]),key:t.id,onClick:function(e){return o.onClick(t)}},[Object(r["g"])("span",Pt,Object(r["A"])(t.icon),1),Object(r["g"])("span",At,Object(r["A"])(t.label),1)],10,Ft)})),128))])}var Nt={name:"TabHeader",props:{tabs:{type:Object,default:new Array}},emits:{onSelect:Object},data:function(){return{selectedTabId:this.tabs[0].id}},methods:{onClick:function(t){this.selectedTabId=t.id,this.$emit("onSelect",t)}}};n("0f2a");const Tt=o()(Nt,[["render",Mt],["__scopeId","data-v-ac066a4e"]]);var $t=Tt,Bt={name:"HistoryAndFavoritesModal",components:{HistoryList:yt,FavoritesList:Lt,TabHeader:$t},emits:{onClose:null,onSelect:String},data:function(){return{tabs:[{id:"f",icon:"star_border",label:"Favorites"},{id:"h",icon:"history",label:"History"}],selectedTabId:"f"}}};n("e393");const Dt=o()(Bt,[["render",it],["__scopeId","data-v-7c2b0bce"]]);var Ht=Dt,Et={name:"Main",components:{Search:W,Gallery:nt,HistoryAndFavoritesModal:Ht},data:function(){return{searchString:"",urlsList:[],strategy:U("MANGA_PILL"),isModalOpened:!1}},mounted:function(){var t=this.$refs.upButton;window.onscroll=function(){document.body.scrollTop>250||document.documentElement.scrollTop>250?t.style.display="grid":t.style.display="none"}},methods:{updateSearchString:function(t){this.$refs.search.text=t,this.$refs.search.search()},loadImages:function(t){this.urlsList=t||[]},goUp:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},goNext:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.strategy.nextChapterByPages(t.urlsList);case 2:n=e.sent,t.updateSearchString(n);case 4:case"end":return e.stop()}}),e)})))()},goBack:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.strategy.previousChapterByPages(t.urlsList);case 2:n=e.sent,t.updateSearchString(n);case 4:case"end":return e.stop()}}),e)})))()},openModal:function(){this.isModalOpened=!0},closeModal:function(){this.isModalOpened=!1},itemFromModalSelected:function(t){t&&(this.closeModal(),this.searchString=t)}}};n("080a");const Rt=o()(Et,[["render",S],["__scopeId","data-v-2ac96d4a"]]);var Ut=Rt,Gt=[{path:"/",name:"Main",component:Ut}],Jt=Object(d["a"])({history:Object(d["b"])(),routes:Gt}),qt=Jt;Object(r["c"])(u).use(qt).mount("#app")},"58cc":function(t,e,n){},"69d9":function(t,e,n){"use strict";n("4aa4")},"6ef9":function(t,e,n){"use strict";n("ad69")},"870c":function(t,e,n){"use strict";n("4e25")},a972:function(t,e,n){"use strict";n("02e5")},ad69:function(t,e,n){},c715:function(t,e,n){"use strict";n("fe2d")},cb5a:function(t,e,n){"use strict";n("58cc")},cbad:function(t,e,n){},e393:function(t,e,n){"use strict";n("379f")},fe2d:function(t,e,n){}});
//# sourceMappingURL=app.590e2e10.js.map